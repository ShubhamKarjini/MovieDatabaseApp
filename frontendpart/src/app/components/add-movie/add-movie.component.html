<div class="add-movie-container">
  <button (click)="toggleForm()" class="add-btn">
    {{ showForm ? 'âœ• Close' : '+ Add Movie' }}
  </button>

  <div *ngIf="showForm" class="form-card">
    <h2>Add New Movie</h2>
    
    <div class="form-group">
      <label>Title *</label>
      <input [(ngModel)]="movie.title" placeholder="Movie title" class="form-input"/>
    </div>

    <div class="form-group">
      <label>Director *</label>
      <input [(ngModel)]="movie.director" placeholder="Director name" class="form-input"/>
    </div>

    <div class="form-group">
      <label>Release Year</label>
      <input [(ngModel)]="movie.releaseYear" type="number" class="form-input"/>
    </div>

    <div class="form-group">
      <label>Rating (0-10)</label>
      <input [(ngModel)]="movie.rating" type="number" min="0" max="10" class="form-input"/>
    </div>

    <div class="form-group">
      <label>Plot</label>
      <textarea [(ngModel)]="movie.plot" placeholder="Movie plot" class="form-input"></textarea>
    </div>

    <div class="form-group">
      <label>Genres</label>
      <div class="genre-list">
        <button 
          *ngFor="let genre of genreOptions"
          (click)="toggleGenre(genre)"
          [class.selected]="movie.genre.includes(genre)"
          class="genre-btn"
        >
          {{ genre }}
        </button>
      </div>
    </div>

    <div class="form-group">
      <label>Poster URL</label>
      <input [(ngModel)]="movie.posterUrl" placeholder="Image URL" class="form-input"/>
    </div>

    <div *ngIf="error" class="error-message">{{ error }}</div>

    <div class="form-actions">
      <button (click)="addMovie()" [disabled]="loading" class="submit-btn">
        {{ loading ? 'Adding...' : 'Add Movie' }}
      </button>
      <button (click)="resetForm()" class="cancel-btn">Cancel</button>
    </div>
  </div>
</div>
